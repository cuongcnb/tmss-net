<grid-table [fieldGrid]="fieldGrid" #gridTable [frameworkComponents]="frameworkComponents"
            [isSuppressHorizontalScroll]="true" [showPagination]="false" (getParams)="getParams()" [height]="'175px'"
            (cellDoubleClicked)="cellDoubleClicked($event)" (cellEditingStopped)="cellEditingStopped($event)"
            (cellValueChanged)="cellValueChanged($event)" (callbackGrid)="callbackGrid($event)"
            (cellClicked)="cellClicked($event)" (keyup)="agKeyUp($event)" (keydown)="agKeyDown($event)"
            (rowClicked)="rowClicked($event)" [navigateToNextCell]="navigateToNextCell" (cellFocused)="cellFocused($event)"
            (cellKeyPress)="cellKeyPress($event)"></grid-table>
<div class="row pt-2">
  <div class="col-sm-10">
    <div class="text-right mt-2 money-style">
      <div class="form-group inline mr-2">
        T/tiền trước thuế:
      </div>
      <div class="form-group inline fix-width">
        <strong>{{moneyFormat(footerData?.beforeTax)}}</strong>
      </div>
      <div class="form-group inline mr-2">
        Giảm giá:
      </div>
      <div class="form-group inline fix-width">
        <strong>{{moneyFormat(footerData?.discount)}}</strong>
      </div>
      <div class="form-group inline mr-2">
        Tổng tiền thuế:
      </div>
      <div class="form-group inline fix-width">
        <strong>{{moneyFormat(footerData?.taxRate)}}</strong>
      </div>
      <div class="form-group inline mr-2">
        T/tiền sau thuế:
      </div>
      <div class="form-group inline fix-width">
        <strong>{{moneyFormat(footerData?.total)}}</strong>
      </div>
    </div>
  </div>
  <div class="col-sm-2 text-right">
    <button type="button" class="btn btn-blue mr-2"
            [disabled]="roState && disabledBtnAdd.includes(roState.toString()) ||(proposalForm.getRawValue().jti !==  proposalForm.getRawValue().createdBy  && !stateCVDV.includes(state))"
            (click)="addWork()">
      <i class="fa fa-plus"></i> Thêm
    </button>
    <button type="button" class="btn btn-blue"
            [disabled]="state && selectedNode && selectedNode.data.status === 'Y' ||(proposalForm.getRawValue().jti !==  proposalForm.getRawValue().createdBy  && !stateCVDV.includes(state))"
            (click)="removeWork()">
      <i class="fa fa-trash-o"></i> Xóa
    </button>
  </div>
</div>
<div class="mt-3">
  <div class="row">

  </div>
</div>

<search-data-grid-modal #searchWorkCodeModal [headerText]="'Chọn CV'" [apiCall]="getWorkCodeList.bind(this)"
                        (close)="modifyWork($event)" [fieldGrid]="fieldGridWorkCode"></search-data-grid-modal>
<accessory-discount [registerno]="proposalForm.get('registerno').value" #discountModal></accessory-discount>
